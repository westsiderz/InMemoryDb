<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>InMemoryDb: xq::InMemoryDb Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="112023071131_Small.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">InMemoryDb
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Implementation of a small in memory database that can perform CRUD operations</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classxq_1_1_in_memory_db.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classxq_1_1_in_memory_db-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">xq::InMemoryDb Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>In-memory database class.  
 <a href="classxq_1_1_in_memory_db.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_in_memory_db_8hpp_source.html">InMemoryDb.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a267eb013a91f77596195b7655015395a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxq_1_1_in_memory_db.html#a267eb013a91f77596195b7655015395a">InMemoryDb</a> (const DbTestRecordCollection &amp;f_records)</td></tr>
<tr class="memdesc:a267eb013a91f77596195b7655015395a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class constructor with arguments.  <a href="classxq_1_1_in_memory_db.html#a267eb013a91f77596195b7655015395a">More...</a><br /></td></tr>
<tr class="separator:a267eb013a91f77596195b7655015395a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41d9ebe10bc9b31ea5dba724de7467b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxq_1_1_in_memory_db.html#a41d9ebe10bc9b31ea5dba724de7467b4">findMatchingRecordsOptimized</a> (const std::string &amp;f_columnName, const std::string &amp;f_matchString, DbTestRecordPointersCollection &amp;f_output) const</td></tr>
<tr class="memdesc:a41d9ebe10bc9b31ea5dba724de7467b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches a set of records for a given string in a given column in a more optimized way.  <a href="classxq_1_1_in_memory_db.html#a41d9ebe10bc9b31ea5dba724de7467b4">More...</a><br /></td></tr>
<tr class="separator:a41d9ebe10bc9b31ea5dba724de7467b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabe89675238d0d068828256ae5c58dc5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxq_1_1_in_memory_db.html#aabe89675238d0d068828256ae5c58dc5">findMatchingRecords</a> (const std::string &amp;f_columnName, const std::string &amp;f_matchString, DbTestRecordPointersCollection &amp;f_output) const</td></tr>
<tr class="memdesc:aabe89675238d0d068828256ae5c58dc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches a set of records for a given string in a given column.  <a href="classxq_1_1_in_memory_db.html#aabe89675238d0d068828256ae5c58dc5">More...</a><br /></td></tr>
<tr class="separator:aabe89675238d0d068828256ae5c58dc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc0561334d8c797110924804b5ca1d38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxq_1_1_in_memory_db.html#afc0561334d8c797110924804b5ca1d38">deleteRecordByID</a> (uint32_t f_id)</td></tr>
<tr class="memdesc:afc0561334d8c797110924804b5ca1d38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a record from the database with the given id.  <a href="classxq_1_1_in_memory_db.html#afc0561334d8c797110924804b5ca1d38">More...</a><br /></td></tr>
<tr class="separator:afc0561334d8c797110924804b5ca1d38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b4b5da894d42c165d5f2b07a010380f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxq_1_1_in_memory_db.html#a6b4b5da894d42c165d5f2b07a010380f">deleteRecordByIDNonOptimized</a> (uint32_t f_id)</td></tr>
<tr class="memdesc:a6b4b5da894d42c165d5f2b07a010380f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a record from the database with the given id in a non-optimized way.  <a href="classxq_1_1_in_memory_db.html#a6b4b5da894d42c165d5f2b07a010380f">More...</a><br /></td></tr>
<tr class="separator:a6b4b5da894d42c165d5f2b07a010380f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8472235d3ed5c0f632b7a7c1812d380"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxq_1_1_in_memory_db.html#ac8472235d3ed5c0f632b7a7c1812d380">addRecord</a> (const <a class="el" href="structxq_1_1_db_table_test.html">DbTableTest</a> &amp;f_newRecord)</td></tr>
<tr class="memdesc:ac8472235d3ed5c0f632b7a7c1812d380"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a new record to the database.  <a href="classxq_1_1_in_memory_db.html#ac8472235d3ed5c0f632b7a7c1812d380">More...</a><br /></td></tr>
<tr class="separator:ac8472235d3ed5c0f632b7a7c1812d380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1cb86a1ce8c4f29669604598e487870"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxq_1_1_in_memory_db.html#aa1cb86a1ce8c4f29669604598e487870">getNumberOfDeletedRecords</a> () const</td></tr>
<tr class="memdesc:aa1cb86a1ce8c4f29669604598e487870"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the number of deleted records.  <a href="classxq_1_1_in_memory_db.html#aa1cb86a1ce8c4f29669604598e487870">More...</a><br /></td></tr>
<tr class="separator:aa1cb86a1ce8c4f29669604598e487870"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f99753e4ef6250633a92b73897194a2"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxq_1_1_in_memory_db.html#a3f99753e4ef6250633a92b73897194a2">getNumberOfRecords</a> () const</td></tr>
<tr class="memdesc:a3f99753e4ef6250633a92b73897194a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of records in the database.  <a href="classxq_1_1_in_memory_db.html#a3f99753e4ef6250633a92b73897194a2">More...</a><br /></td></tr>
<tr class="separator:a3f99753e4ef6250633a92b73897194a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>In-memory database class. </p>
<p>Provides implementation of a database which is hosted directly in the memory with expected database operations like Find Matching Records, Add Records and Delete Records. <br  />
 </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a267eb013a91f77596195b7655015395a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a267eb013a91f77596195b7655015395a">&#9670;&nbsp;</a></span>InMemoryDb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xq::InMemoryDb::InMemoryDb </td>
          <td>(</td>
          <td class="paramtype">const DbTestRecordCollection &amp;&#160;</td>
          <td class="paramname"><em>f_records</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Class constructor with arguments. </p>
<p>Constructs the class using the given arguments. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac8472235d3ed5c0f632b7a7c1812d380"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8472235d3ed5c0f632b7a7c1812d380">&#9670;&nbsp;</a></span>addRecord()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xq::InMemoryDb::addRecord </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structxq_1_1_db_table_test.html">DbTableTest</a> &amp;&#160;</td>
          <td class="paramname"><em>f_newRecord</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a new record to the database. </p>
<p>First checks if there is a free slot in the database by looking at m_freeIds. In case there is, put the new record on its place. In case there is non, push the new record at the back of the records' collection. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">f_newRecord</td><td>The new record to be added. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afc0561334d8c797110924804b5ca1d38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc0561334d8c797110924804b5ca1d38">&#9670;&nbsp;</a></span>deleteRecordByID()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xq::InMemoryDb::deleteRecordByID </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>f_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a record from the database with the given id. </p>
<p>Traverses the whole collection of records and looks for a record, which matches the selected Id. Sets that record's ID to 0 which annotates that the record is deleted. The record is not actually removed from the collection because this is a costly operation but instead it's index is saved in another collection to be used later when adding new record. This way deleting new records will not require shifting of the remaining and adding new record might not require reallocation of new memory. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">f_id</td><td>The id of the record to be deleted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6b4b5da894d42c165d5f2b07a010380f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b4b5da894d42c165d5f2b07a010380f">&#9670;&nbsp;</a></span>deleteRecordByIDNonOptimized()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xq::InMemoryDb::deleteRecordByIDNonOptimized </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>f_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a record from the database with the given id in a non-optimized way. </p>
<p>Traverses the whole collection of records and looks for a record, which matches the selected Id. Removes the record from the collection, which also causes all the aftercomming records to be shifted. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">f_id</td><td>The id of the record to be deleted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aabe89675238d0d068828256ae5c58dc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabe89675238d0d068828256ae5c58dc5">&#9670;&nbsp;</a></span>findMatchingRecords()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xq::InMemoryDb::findMatchingRecords </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>f_columnName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>f_matchString</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DbTestRecordPointersCollection &amp;&#160;</td>
          <td class="paramname"><em>f_output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches a set of records for a given string in a given column. </p>
<p>This is an updated version of the original algorithm from Quickbase. It stores the provided data in one <a class="el" href="classxq_1_1_db_table_test_string_matcher.html" title="String matcher functionality for the Test table.">DbTableTestStringMatcher</a> and uses its methods to process the search. This is a less optimized version of the algorithm in the term of speed, but the implementation is generalized and thus allows to use any kind of data table without significant changes, given that the table provides a string matcher class. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">f_columnName</td><td>The name of the column to search in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">f_matchString</td><td>The string to search for. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">f_output</td><td>Contains the records which match the search criteria. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a41d9ebe10bc9b31ea5dba724de7467b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41d9ebe10bc9b31ea5dba724de7467b4">&#9670;&nbsp;</a></span>findMatchingRecordsOptimized()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xq::InMemoryDb::findMatchingRecordsOptimized </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>f_columnName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>f_matchString</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DbTestRecordPointersCollection &amp;&#160;</td>
          <td class="paramname"><em>f_output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches a set of records for a given string in a given column in a more optimized way. </p>
<p>This is an updated version of the original algorithm from Quickbase. It checks what is the selected column, if needed transforms the given search string to a number and checks if it matches with the content in the given column. This is a more optimized version of the algorithm in the term of speed, but it is also with a table specific implementation, thus not allowing for the use of another table structure, without the respective changes. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">f_columnName</td><td>The name of the column to search in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">f_matchString</td><td>The string to search for. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">f_output</td><td>Contains the records which match the search criteria. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa1cb86a1ce8c4f29669604598e487870"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1cb86a1ce8c4f29669604598e487870">&#9670;&nbsp;</a></span>getNumberOfDeletedRecords()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t xq::InMemoryDb::getNumberOfDeletedRecords </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the number of deleted records. </p>
<p>Gets the number of elements in the m_freeIds member variable. </p><dl class="section return"><dt>Returns</dt><dd>Number of deleted records. </dd></dl>

</div>
</div>
<a id="a3f99753e4ef6250633a92b73897194a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f99753e4ef6250633a92b73897194a2">&#9670;&nbsp;</a></span>getNumberOfRecords()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t xq::InMemoryDb::getNumberOfRecords </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the number of records in the database. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of available records, which are not considered deleted. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_in_memory_db_8hpp_source.html">InMemoryDb.hpp</a></li>
<li><a class="el" href="_in_memory_db_8cpp.html">InMemoryDb.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>xq</b></li><li class="navelem"><a class="el" href="classxq_1_1_in_memory_db.html">InMemoryDb</a></li>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
